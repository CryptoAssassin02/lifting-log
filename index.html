<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="apple-mobile-web-app-title" content="Iron Log" />
<meta name="theme-color" content="#0a0a0a" />
<meta name="mobile-web-app-capable" content="yes" />
<title>Iron Log</title>
<link rel="manifest" href="manifest.json" />
<link rel="apple-touch-icon" href="icon-192.png" />
<link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@400;600;700;800;900&family=Barlow:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body,#root{height:100%;width:100%;background:#0a0a0a;overflow-x:hidden}
body{font-family:'Barlow',sans-serif;color:#e0e0e0;-webkit-font-smoothing:antialiased}
input{-webkit-appearance:none;appearance:none}
input:focus{outline:none}
button{-webkit-appearance:none;appearance:none}
::-webkit-scrollbar{display:none}
</style>
</head>
<body>
<div id="root"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
<script type="text/babel">
const { useState, useEffect, useCallback, useRef } = React;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SESSION DATA â€” ALL 6 SESSIONS (PPL x 2)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const SESSIONS = {
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // LOWER BODY
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  A: {
    id: "A",
    title: "SESSION A",
    subtitle: "QUAD / ANTERIOR-CHAIN DOMINANT",
    group: "LOWER BODY",
    duration: "45â€“55 min",
    phases: [
      {
        name: "PHASE 1 â€” KNEE PREP",
        time: "6â€“8 min",
        exercises: [
          { id: "A-A1", name: "Backward Sled Walk", sets: 3, reps: "30 steps/leg", rest: "â€”", tempo: "Continuous", note: "Light load. Land on balls of feet, upright torso, knees over toes." },
          { id: "A-A2", name: "Wall Tibialis Raises", sets: 3, reps: "20", rest: "30", tempo: "2-0-1-0", note: "Back against wall, feet 12â€“18\" out. Pull toes toward shins without bending knees." },
          { id: "A-A3", name: "BW ATG Split Squat Hold", sets: 2, reps: "20s hold/leg", rest: "30", tempo: "Isometric", note: "Front foot elevated 2â€“3\". Deep split squat, knee well past toes, heel down." },
        ],
      },
      {
        name: "PHASE 2 â€” QUAD HYPERTROPHY",
        time: "15â€“20 min",
        exercises: [
          { id: "A-B1", name: "Belt Squat Machine", sets: 3, reps: "10â€“12", rest: "90", tempo: "3-1-1-0", note: "Belt at hips. Zero spinal compression. Primary overload vehicle â€” push weight here. Don't lock out at top." },
          { id: "A-B2", name: "DB Reverse Lunge to Knee Drive", sets: 3, reps: "8â€“10/leg", rest: "60", tempo: "2-0-1-1", note: "Step back into lunge, explosively drive knee to hip height, pause 1s at top." },
          { id: "A-B3", name: "Cable Somersault Squat", sets: 3, reps: "10â€“12", rest: "60", tempo: "3-1-1-0", note: "EZ bar behind knees on low cable, stand on plate, DB on quads. Deep squat with constant tension." },
        ],
      },
      {
        name: "PHASE 3 â€” ROTATION & CORE",
        time: "5â€“7 min",
        exercises: [
          { id: "A-C1", name: "Iso Lunge Pallof Press + Rotation", sets: 3, reps: "8â€“10/side", rest: "45", tempo: "2-1-2-1", note: "Split stance, hold moderate lunge. Press out, rotate 30â€“45Â° away from cable, return." },
        ],
      },
      {
        name: "PHASE 4 â€” KNEE HEALTH FINISHER",
        time: "5 min",
        superset: "Superset Â· 60s rest after pair",
        exercises: [
          { id: "A-D1", name: "Petersen Step-Up", sets: 2, reps: "12â€“15/leg", rest: "â€”", tempo: "2-0-1-0", note: "6â€“8\" step. Rise onto ball of foot extending through knee. Isolates VMO." },
          { id: "A-D2", name: "KOT Calf Raise (bent knee)", sets: 2, reps: "15â€“20", rest: "60", tempo: "2-1-2-0", note: "Knees bent 20â€“30Â°. Rise onto toes, lower heels below step. Targets soleus." },
        ],
      },
    ],
  },
  B: {
    id: "B",
    title: "SESSION B",
    subtitle: "HAMSTRING / POSTERIOR-CHAIN DOMINANT",
    group: "LOWER BODY",
    duration: "45â€“55 min",
    phases: [
      {
        name: "PHASE 1 â€” KNEE PREP",
        time: "5â€“7 min",
        exercises: [
          { id: "B-A1", name: "Backward Sled Walk", sets: 3, reps: "30 steps/leg", rest: "â€”", tempo: "Continuous", note: "Same as Session A. Non-negotiable knee prep." },
          { id: "B-A2", name: "Wall Tibialis Raises", sets: 2, reps: "20", rest: "30", tempo: "2-0-1-0", note: "Same as Session A." },
        ],
      },
      {
        name: "PHASE 2 â€” POSTERIOR HYPERTROPHY",
        time: "15â€“20 min",
        exercises: [
          { id: "B-B1", name: "DB Staggered-Stance RDL", sets: 3, reps: "8â€“10/leg", rest: "60", tempo: "3-1-1-0", note: "DB in each hand. Back foot toes only, 12\" behind. Hinge to mid-shin. 1s pause at bottom." },
          { id: "B-B2", name: "Leg Curl (Drop Set final)", sets: 3, reps: "10â€“12", rest: "75", tempo: "3-1-1-0", note: "Pad above Achilles. 3s eccentric. Final set: working weight â†’ fail â†’ drop 25â€“30% â†’ fail." },
          { id: "B-B3", name: "KB Goblet Lateral Lunge", sets: 3, reps: "8â€“10/leg", rest: "60", tempo: "2-1-1-0", note: "KB at chest. Large step to side, sit hips back into stepping leg, opposite leg straight." },
        ],
      },
      {
        name: "PHASE 3 â€” ROTATIONAL POWER",
        time: "8â€“10 min",
        exercises: [
          { id: "B-C1", name: "Cable Low-to-High Rot. Chop", sets: 3, reps: "10â€“12/side", rest: "45", tempo: "Explosive / 2s down", note: "Cable at lowest. Athletic stance perpendicular. Rotate from low hip to above opposite shoulder." },
          { id: "B-C2", name: "SL KB DL to Rotational Row", sets: 3, reps: "8/leg", rest: "45", tempo: "Controlled", note: "Single-leg RDL to parallel, row KB to hip while rotating thoracic spine open." },
        ],
      },
      {
        name: "PHASE 4 â€” CALF FINISHER",
        time: "5 min",
        exercises: [
          { id: "B-D1", name: "KOT Calf Raise (bent knee)", sets: 3, reps: "15â€“20", rest: "45", tempo: "2-1-2-0", note: "Knees bent 20â€“30Â°. Rise onto toes, lower heels below step. Targets soleus for deceleration." },
        ],
      },
    ],
  },

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // PUSH
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  C: {
    id: "C",
    title: "SESSION C",
    subtitle: "CHEST / LOWER CHEST DOMINANT",
    group: "PUSH",
    duration: "40â€“50 min",
    phases: [
      {
        name: "PHASE 1 â€” SHOULDER ACTIVATION",
        time: "3â€“4 min",
        exercises: [
          { id: "C-C1", name: "Half-Kneeling KB Halo", sets: 2, reps: "8/dir", rest: "30", tempo: "Controlled", note: "KB by horns, circle around head. Torso stays still. Switch kneeling leg halfway." },
        ],
      },
      {
        name: "PHASE 2 â€” CHEST HYPERTROPHY",
        time: "18â€“22 min",
        exercises: [
          { id: "C-C2", name: "Flat Dumbbell Chest Press", sets: 3, reps: "8â€“10", rest: "90", tempo: "3-1-1-0", note: "Palms 15Â° inward. Elbows 45Â° from torso. 3s eccentric, squeeze at top." },
          { id: "C-C3", name: "Standing Cable Decline Press", sets: 3, reps: "10â€“12", rest: "75", tempo: "2-1-2-0", note: "Pulleys at shoulder height. Press forward and down 30â€“45Â°. Squeeze 1s at bottom." },
          { id: "C-C5", name: "Weighted Dip Machine", sets: 3, reps: "8â€“10", rest: "75", tempo: "3-0-1-0", note: "Slight forward lean. Neutral grip. Stop at parallelâ€”no deeper. Don't lock out." },
        ],
      },
      {
        name: "PHASE 3 â€” FUNCTIONAL ROTATION",
        time: "10â€“12 min",
        exercises: [
          { id: "C-C4", name: "HK SA Cable Press w/ Rotation", sets: 3, reps: "8â€“10/side", rest: "60", tempo: "2-1-1-0", note: "Half-kneeling perpendicular to cable. Press across body rotating thoracic spine. Hips stay square." },
          { id: "C-C6", name: "SA KB Floor Press to Glute Bridge", sets: 2, reps: "8/arm", rest: "45", tempo: "2-1-1-1", note: "Bridge hips up, press KB, hold bridge. Anti-rotation core challenge." },
        ],
      },
      {
        name: "PHASE 4 â€” TRICEP ISOLATION",
        time: "5â€“6 min",
        exercises: [
          { id: "C-C7", name: "Overhead Rope Tricep Extension", sets: 3, reps: "12â€“15", rest: "60", tempo: "2-1-2-0", note: "Low cable, face away. Elbows tight by ears. Long head emphasis. Drop set final set." },
        ],
      },
    ],
  },
  D: {
    id: "D",
    title: "SESSION D",
    subtitle: "UPPER CHEST / SHOULDER DOMINANT",
    group: "PUSH",
    duration: "40â€“50 min",
    phases: [
      {
        name: "PHASE 1 â€” SHOULDER STABILIZATION",
        time: "3â€“4 min",
        exercises: [
          { id: "D-D1", name: "Bottoms-Up KB Press (Seated)", sets: 2, reps: "6â€“8/arm", rest: "30", tempo: "2-1-2-0", note: "KB bottom-up, wrist straight. Press overhead keeping forearm vertical. Light weight, quality reps." },
        ],
      },
      {
        name: "PHASE 2 â€” UPPER CHEST & SHOULDER HYPERTROPHY",
        time: "18â€“22 min",
        exercises: [
          { id: "D-D2", name: "Low-Incline DB Press (15â€“20Â°)", sets: 3, reps: "8â€“10", rest: "90", tempo: "3-1-1-0", note: "First notch above flat. Same grip as flat press. 3s eccentric. Upper chest emphasis." },
          { id: "D-D3", name: "Machine Shoulder Press (Neutral)", sets: 3, reps: "8â€“10", rest: "75", tempo: "3-0-1-0", note: "Neutral grip. Back flat. Press to just short of lockout. Lower to ear height." },
          { id: "D-D5", name: "Low-to-High Cable Fly", sets: 3, reps: "12â€“15", rest: "60", tempo: "2-1-2-0", note: "Pulleys at lowest. Sweep up to chin height. Pinkies together at top. Drop set final." },
        ],
      },
      {
        name: "PHASE 3 â€” ROTATIONAL POWER & MOBILITY",
        time: "10â€“12 min",
        exercises: [
          { id: "D-D4", name: "Landmine Press w/ Rotation", sets: 3, reps: "8â€“10/arm", rest: "60", tempo: "Explosive / 2s down", note: "Single arm. Rotate torso away as you press. Pivot rear foot. Hip-core-shoulder chain." },
          { id: "D-D6", name: "HK KB Windmill", sets: 2, reps: "5â€“6/side", rest: "45", tempo: "Controlled", note: "KB overhead, locked arm. Hinge and rotate down. Eyes on bell. Light weight (15â€“25 lbs)." },
        ],
      },
      {
        name: "PHASE 4 â€” TRICEP ISOLATION",
        time: "5â€“6 min",
        exercises: [
          { id: "D-D7", name: "Cross-Body Cable Tricep Ext.", sets: 3, reps: "12â€“15/arm", rest: "45", tempo: "2-1-1-0", note: "Cable at head height, stand sideways. Extend across body. Lateral head emphasis. Rest-pause final." },
        ],
      },
    ],
  },

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // PULL
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  E: {
    id: "E",
    title: "SESSION E",
    subtitle: "WIDTH-FOCUSED PULL",
    group: "PULL",
    duration: "44â€“52 min",
    phases: [
      {
        name: "PHASE 1 â€” SCAPULAR ACTIVATION",
        time: "3 min",
        superset: "Circuit E1+E2 Â· 45s rest after pair Â· 2 rounds",
        exercises: [
          { id: "E-E1", name: "Band Pull-Apart (Overhand)", sets: 2, reps: "15", rest: "0", tempo: "Controlled", note: "Shoulder height, palms down. Pull band apart squeezing shoulder blades. Ribs down, no arch." },
          { id: "E-E2", name: "Dead Hang + Scap Pull", sets: 2, reps: "20s + 5 pulls", rest: "45", tempo: "Controlled", note: "Hang 20s to decompress spine. Then 5 scap pulls: depress shoulders without bending elbows." },
        ],
      },
      {
        name: "PHASE 2 â€” PRIMARY WIDTH BUILDERS",
        time: "12â€“15 min",
        exercises: [
          { id: "E-E3", name: "Wide Neutral-Grip Lat Pulldown", sets: 3, reps: "8â€“10", rest: "90", tempo: "3-0-1-1", note: "Wide neutral handles. Depress scaps first, pull to upper chest. 3s eccentric, 1s squeeze at bottom." },
          { id: "E-E4", name: "SA Cable Pulldown (Half-Kneel)", sets: 3, reps: "10â€“12/side", rest: "75", tempo: "3-0-1-1", note: "Highest pulley. Half-kneel 2ft from stack, working arm side. Long arc to hip. Anti-lateral flexion core demand." },
        ],
      },
      {
        name: "PHASE 3 â€” SECONDARY THICKNESS",
        time: "10â€“12 min",
        superset: "Rest-pause on FINAL set: fail â†’ 10-15s â†’ fail â†’ 10-15s â†’ fail",
        exercises: [
          { id: "E-E5", name: "SA Cable Row (Staggered Stance)", sets: 3, reps: "10â€“12/side", rest: "75", tempo: "2-0-1-1", note: "Cable at navel. Opposite foot forward. Row to lower ribs, 1s squeeze. Anti-rotation demand. RP last set." },
          { id: "E-E6", name: "Chest-Supported Row (Wide Neutral, 2s Hold)", sets: 3, reps: "8â€“10", rest: "75", tempo: "3-0-1-2", note: "Wide neutral grip. Elbows flare 60Â°. 2s hold at peak. Mid-traps/rhomboids/rear delts. RP last set." },
        ],
      },
      {
        name: "PHASE 4 â€” ROTATIONAL CORE",
        time: "6â€“8 min",
        exercises: [
          { id: "E-E7", name: "HK Cable Lift (Low-to-High)", sets: 3, reps: "10â€“12/side", rest: "45", tempo: "2-0-1-1", note: "Low cable. Inside knee down. Rotate diagonally from low hip to opposite overhead. Hips square, T-spine rotates." },
          { id: "E-E8", name: "HK Landmine Press w/ Rotation", sets: 3, reps: "8â€“10/side", rest: "45", tempo: "2-0-1-1", note: "Inside knee down. Press barbell up and across with T-spine rotation. Anterior oblique sling. Stiff-arm mechanics." },
        ],
      },
      {
        name: "PHASE 5 â€” REAR DELTS & BICEPS",
        time: "10â€“12 min",
        superset: "SS1: E9+E10 (60s after pair) Â· CS: E11â†’E12 (60s after pair) Â· Drop set final E12",
        exercises: [
          { id: "E-E9", name: "Cable Reverse Fly (SA, 2s Squeeze)", sets: 3, reps: "12â€“15/side", rest: "0", tempo: "2-0-1-2", note: "Shoulder height. Neutral grip (thumb up). Sweep arm back, 2s rear delt squeeze. SUPERSET w/ E10." },
          { id: "E-E10", name: "Incline DB Curl (Supinated)", sets: 3, reps: "8â€“10", rest: "60", tempo: "3-1-1-1", note: "Bench 45Â°. Arms behind body. Pinky rotation at top. Long head (peak) emphasis. SUPERSET w/ E9." },
          { id: "E-E11", name: "Hammer Curl (Alternating)", sets: 2, reps: "10â€“12", rest: "0", tempo: "2-0-1-1", note: "Neutral grip. Brachialis + brachioradialis. Least ulnar nerve stress. COMPOUND SET â†’ E12." },
          { id: "E-E12", name: "Concentration Curl", sets: 2, reps: "to failure", rest: "60", tempo: "2-0-1-1", note: "Brace arm on inner thigh. Short head isolation. Drop set 25â€“30% on final round." },
        ],
      },
    ],
  },
  F: {
    id: "F",
    title: "SESSION F",
    subtitle: "THICKNESS-FOCUSED PULL",
    group: "PULL",
    duration: "44â€“52 min",
    phases: [
      {
        name: "PHASE 1 â€” SCAPULAR ACTIVATION",
        time: "3 min",
        superset: "Circuit F1+F2 Â· 45s rest after pair Â· 2 rounds",
        exercises: [
          { id: "F-F1", name: "Band Pull-Apart (Underhand)", sets: 2, reps: "15", rest: "0", tempo: "Controlled", note: "Palms up (supinated). Shifts emphasis to mid-traps and lower rear delts vs overhand." },
          { id: "F-F2", name: "Prone Y-T-W Raises", sets: 2, reps: "5 each", rest: "45", tempo: "Controlled", note: "Face down on bench, 5-10lb DBs. Y=lower traps, T=mid-traps/rhomboids, W=external rotators." },
        ],
      },
      {
        name: "PHASE 2 â€” PRIMARY THICKNESS BUILDERS",
        time: "12â€“15 min",
        exercises: [
          { id: "F-F3", name: "Chest-Supported Row (Neutral, 2s Hold)", sets: 3, reps: "8â€“10", rest: "90", tempo: "3-0-1-2", note: "Standard neutral grip. Elbows back, 2s squeeze. Eliminates lower back involvement. Rhomboids/mid-traps." },
          { id: "F-F4", name: "Meadows Row (Landmine SA)", sets: 3, reps: "8â€“10/side", rest: "75", tempo: "2-0-1-1", note: "Perpendicular to barbell. Overhand grip on sleeve. Elbow out 60Â°. Use 10/25lb plates for ROM. Lower lats + teres major." },
        ],
      },
      {
        name: "PHASE 3 â€” SECONDARY WIDTH",
        time: "10â€“12 min",
        superset: "Rest-pause on FINAL set: fail â†’ 10-15s â†’ fail â†’ 10-15s â†’ fail",
        exercises: [
          { id: "F-F5", name: "Wide Neutral-Grip Pulldown (Upright, to Clavicle)", sets: 3, reps: "10â€“12", rest: "75", tempo: "3-0-1-1", note: "Upright torso (max 5Â° lean). Wide neutral handles. Pull to clavicle line, elbows down and slightly forward. Upper lat emphasis. RP last set." },
          { id: "F-F6", name: "Close-Grip Lat Pulldown (Supinated V-Bar)", sets: 3, reps: "10â€“12", rest: "60", tempo: "3-0-1-1", note: "V-bar, palms facing you. Lean back 10â€“15Â°. Pull to sternum, sweep past chest toward stomach. Lower lat fibers. RP last set." },
        ],
      },
      {
        name: "PHASE 4 â€” ROTATIONAL CORE",
        time: "6â€“8 min",
        exercises: [
          { id: "F-F7", name: "HK Cable Chop (High-to-Low)", sets: 3, reps: "10â€“12/side", rest: "45", tempo: "2-0-1-1", note: "High cable. Outside knee down. Pull and rotate from high shoulder to opposite hip. Complement to E's lift." },
          { id: "F-F8", name: "Landmine Rotation (Standing)", sets: 3, reps: "10â€“12/side", rest: "45", tempo: "Controlled", note: "Both hands on bar end at chest. Rotate hip-to-hip in arc. Power from hips/obliques. Football cutting mechanics." },
        ],
      },
      {
        name: "PHASE 5 â€” REAR DELTS, TRAPS & BICEPS",
        time: "10â€“12 min",
        superset: "SS1: F9+F10 (60s after pair) Â· TRI-SET: F11â†’F12â†’F13 (75s after tri-set) Â· Drop set final F12",
        exercises: [
          { id: "F-F9", name: "Reverse Machine Fly (2s Squeeze)", sets: 3, reps: "12â€“15", rest: "0", tempo: "2-0-1-2", note: "Pec deck reversed. Lead with elbows. 2s rear delt squeeze. Don't shrug. SUPERSET w/ F10." },
          { id: "F-F10", name: "Machine Trap Shrug (Neutral, 2s Squeeze)", sets: 3, reps: "10â€“12", rest: "60", tempo: "1-0-1-2", note: "Shrug up AND back (retract). 2s hold. Upper + mid traps. Load heavy. SUPERSET w/ F9." },
          { id: "F-F11", name: "Cable Bayesian Curl", sets: 3, reps: "10â€“12/side", rest: "0", tempo: "3-0-1-1", note: "Low cable, face away. Arm behind torso. Max long-head stretch. 3s eccentric critical. TRI-SET â†’ F12." },
          { id: "F-F12", name: "Spider Curl (EZ-bar or DB)", sets: 3, reps: "10â€“12", rest: "0", tempo: "2-0-1-1", note: "Chest on incline bench (45â€“60Â°). Arms hang down. Short head emphasis. Drop set 25â€“30% final round. TRI-SET â†’ F13." },
          { id: "F-F13", name: "Hammer Curl (Alternating)", sets: 3, reps: "10â€“12", rest: "75", tempo: "2-0-1-1", note: "Neutral grip. Brachialis + brachioradialis. Least ulnar nerve stress. Finishes tri-set." },
        ],
      },
    ],
  },
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GROUP CONFIG
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const GROUP_CONFIG = [
  { label: "LOWER BODY", icon: "ğŸ¦µ", ids: ["A", "B"] },
  { label: "PUSH", icon: "ğŸ’ª", ids: ["C", "D"] },
  { label: "PULL", icon: "ğŸ”—", ids: ["E", "F"] },
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// STORAGE HELPERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const LS_KEY = "ironlog";
function loadData() {
  try { return JSON.parse(localStorage.getItem(LS_KEY)) || { logs: {}, history: [] }; }
  catch { return { logs: {}, history: [] }; }
}
function saveData(data) { localStorage.setItem(LS_KEY, JSON.stringify(data)); }

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// REST TIMER COMPONENT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function RestTimer({ seconds, onDone }) {
  const [left, setLeft] = useState(seconds);
  const intervalRef = useRef(null);

  useEffect(() => {
    setLeft(seconds);
    if (intervalRef.current) clearInterval(intervalRef.current);
    intervalRef.current = setInterval(() => {
      setLeft(prev => {
        if (prev <= 1) {
          clearInterval(intervalRef.current);
          if (onDone) onDone();
          return 0;
        }
        return prev - 1;
      });
    }, 1000);
    return () => clearInterval(intervalRef.current);
  }, [seconds]);

  const pct = ((seconds - left) / seconds) * 100;
  const mins = Math.floor(left / 60);
  const secs = left % 60;

  return (
    <div style={{
      background: "#111", border: "1px solid #222", borderRadius: 8,
      padding: "8px 12px", marginTop: 8, display: "flex", alignItems: "center", gap: 10,
    }}>
      <div style={{ flex: 1, height: 4, background: "#1a1a1a", borderRadius: 2, overflow: "hidden" }}>
        <div style={{
          width: `${pct}%`, height: "100%", borderRadius: 2, transition: "width 1s linear",
          background: left === 0 ? "#4CAF50" : "linear-gradient(90deg, #D4AF37, #F4E076)",
        }} />
      </div>
      <div style={{
        fontFamily: "'JetBrains Mono', monospace", fontSize: 13, fontWeight: 700, minWidth: 42,
        color: left === 0 ? "#4CAF50" : "#D4AF37",
      }}>
        {left === 0 ? "GO!" : `${mins}:${secs.toString().padStart(2, "0")}`}
      </div>
      {left > 0 && (
        <button onClick={() => { clearInterval(intervalRef.current); setLeft(0); if (onDone) onDone(); }}
          style={{
            background: "none", border: "1px solid #333", borderRadius: 4, color: "#666",
            fontSize: 10, padding: "2px 6px", cursor: "pointer", fontFamily: "'JetBrains Mono', monospace",
          }}>SKIP</button>
      )}
    </div>
  );
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// EXERCISE CARD COMPONENT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function ExerciseCard({ exercise, logData, onUpdateLog }) {
  const [expanded, setExpanded] = useState(false);
  const data = logData || { sets: Array.from({ length: exercise.sets }, () => ({ weight: "", reps: "", done: false })) };
  const completedSets = data.sets.filter(s => s.done).length;
  const allDone = completedSets === exercise.sets;
  const [activeTimer, setActiveTimer] = useState(null);

  const updateSet = (idx, field, val) => {
    const newSets = data.sets.map((s, i) => i === idx ? { ...s, [field]: val } : s);
    onUpdateLog({ ...data, sets: newSets });
  };

  const toggleDone = (idx) => {
    const newSets = data.sets.map((s, i) => i === idx ? { ...s, done: !s.done } : s);
    onUpdateLog({ ...data, sets: newSets });
    if (!data.sets[idx].done && exercise.rest && exercise.rest !== "â€”" && exercise.rest !== "0") {
      const restSec = parseInt(exercise.rest);
      if (!isNaN(restSec) && restSec > 0) setActiveTimer(restSec);
    }
  };

  return (
    <div style={{
      background: allDone ? "rgba(76, 175, 80, 0.06)" : "#111",
      border: `1px solid ${allDone ? "rgba(76, 175, 80, 0.3)" : "#1a1a1a"}`,
      borderRadius: 10, marginBottom: 8, overflow: "hidden",
    }}>
      <div onClick={() => setExpanded(!expanded)} style={{
        padding: "12px 14px", cursor: "pointer", display: "flex", justifyContent: "space-between", alignItems: "center",
      }}>
        <div style={{ flex: 1 }}>
          <div style={{ display: "flex", alignItems: "center", gap: 8 }}>
            <span style={{
              fontSize: 9, fontWeight: 800, fontFamily: "'JetBrains Mono', monospace",
              color: allDone ? "#4CAF50" : "#D4AF37", letterSpacing: 1,
            }}>{exercise.id}</span>
            <span style={{
              fontSize: 14, fontWeight: 700, fontFamily: "'Barlow Condensed', sans-serif",
              color: allDone ? "#4CAF50" : "#e0e0e0",
            }}>{exercise.name}</span>
          </div>
          <div style={{
            fontSize: 10, color: "#555", fontFamily: "'JetBrains Mono', monospace", marginTop: 3,
          }}>
            {exercise.sets}Ã—{exercise.reps} Â· {exercise.rest !== "â€”" ? `${exercise.rest}s rest` : "no rest"} Â· {exercise.tempo}
          </div>
        </div>
        <div style={{ display: "flex", alignItems: "center", gap: 8 }}>
          <span style={{
            fontSize: 11, fontWeight: 700, fontFamily: "'JetBrains Mono', monospace",
            color: allDone ? "#4CAF50" : "#555",
          }}>{completedSets}/{exercise.sets}</span>
          <span style={{ color: "#444", fontSize: 12, transform: expanded ? "rotate(180deg)" : "rotate(0deg)", transition: "transform 0.2s" }}>â–¼</span>
        </div>
      </div>

      {expanded && (
        <div style={{ padding: "0 14px 12px" }}>
          {exercise.note && (
            <div style={{
              fontSize: 11, color: "#777", fontStyle: "italic", marginBottom: 10, lineHeight: 1.4,
              padding: "6px 8px", background: "rgba(212,175,55,0.05)", borderRadius: 6,
              borderLeft: "2px solid rgba(212,175,55,0.3)",
            }}>{exercise.note}</div>
          )}
          {data.sets.map((set, i) => (
            <div key={i} style={{
              display: "flex", alignItems: "center", gap: 8, marginBottom: 6,
              opacity: set.done ? 0.5 : 1,
            }}>
              <span style={{
                fontSize: 10, fontWeight: 700, fontFamily: "'JetBrains Mono', monospace",
                color: "#555", minWidth: 18,
              }}>S{i + 1}</span>
              <input type="number" inputMode="decimal" placeholder="lbs" value={set.weight}
                onChange={e => updateSet(i, "weight", e.target.value)}
                style={{
                  width: 60, background: "#0a0a0a", border: "1px solid #222", borderRadius: 6,
                  color: "#e0e0e0", padding: "6px 8px", fontSize: 13,
                  fontFamily: "'JetBrains Mono', monospace", textAlign: "center",
                }} />
              <span style={{ color: "#333", fontSize: 10 }}>Ã—</span>
              <input type="number" inputMode="numeric" placeholder="reps" value={set.reps}
                onChange={e => updateSet(i, "reps", e.target.value)}
                style={{
                  width: 52, background: "#0a0a0a", border: "1px solid #222", borderRadius: 6,
                  color: "#e0e0e0", padding: "6px 8px", fontSize: 13,
                  fontFamily: "'JetBrains Mono', monospace", textAlign: "center",
                }} />
              <button onClick={() => toggleDone(i)} style={{
                width: 32, height: 32, borderRadius: 6, border: "none", cursor: "pointer",
                background: set.done ? "#4CAF50" : "#1a1a1a",
                color: set.done ? "#fff" : "#555", fontSize: 14, fontWeight: 700,
                display: "flex", alignItems: "center", justifyContent: "center",
              }}>{set.done ? "âœ“" : "â—‹"}</button>
            </div>
          ))}
          {activeTimer && (
            <RestTimer seconds={activeTimer} onDone={() => setActiveTimer(null)} />
          )}
        </div>
      )}
    </div>
  );
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// HISTORY DETAIL VIEW COMPONENT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function HistoryDetail({ entry, onBack }) {
  const session = SESSIONS[entry.sessionId];
  const exerciseLogs = entry.exerciseLogs || {};

  return (
    <div style={{ minHeight: "100%", paddingBottom: 80 }}>
      {/* Header */}
      <div style={{
        position: "sticky", top: 0, zIndex: 100, background: "#0a0a0a",
        padding: "env(safe-area-inset-top) 16px 10px", borderBottom: "1px solid #1a1a1a",
      }}>
        <div style={{ display: "flex", alignItems: "center", justifyContent: "space-between", marginBottom: 6 }}>
          <button onClick={onBack} style={{
            background: "none", border: "none", color: "#D4AF37", fontSize: 13,
            fontFamily: "'Barlow Condensed', sans-serif", fontWeight: 700, cursor: "pointer",
            letterSpacing: 1, padding: "4px 0",
          }}>â† HISTORY</button>
          <div style={{
            fontSize: 10, fontWeight: 800, letterSpacing: 4, color: "#D4AF37",
            fontFamily: "'JetBrains Mono', monospace",
          }}>{entry.sessionTitle}</div>
        </div>
        <div style={{
          fontSize: 11, color: "#666", fontFamily: "'Barlow Condensed', sans-serif",
          marginTop: 4, letterSpacing: 0.5,
        }}>
          {entry.sessionSubtitle} Â· {entry.group} Â· {entry.date} Â· {entry.time}
        </div>
        <div style={{
          fontSize: 10, color: entry.completedSets === entry.totalSets ? "#4CAF50" : "#D4AF37",
          fontFamily: "'JetBrains Mono', monospace", marginTop: 4,
        }}>
          {entry.completedSets}/{entry.totalSets} SETS COMPLETED
        </div>
      </div>

      {/* Exercise logs by phase */}
      <div style={{ padding: "12px 16px" }}>
        {session ? session.phases.map((phase, pi) => {
          const phaseHasData = phase.exercises.some(ex => exerciseLogs[ex.id]);
          if (!phaseHasData) return null;
          return (
            <div key={pi} style={{ marginBottom: 20 }}>
              <div style={{
                fontSize: 12, fontWeight: 800, letterSpacing: 2, color: "#D4AF37",
                fontFamily: "'JetBrains Mono', monospace", marginBottom: 4,
              }}>{phase.name}</div>
              <div style={{
                fontSize: 11, color: "#555", fontFamily: "'JetBrains Mono', monospace", marginBottom: 10,
              }}>{phase.time}</div>
              {phase.exercises.map(ex => {
                const exLog = exerciseLogs[ex.id];
                if (!exLog) return null;
                const completedSets = exLog.sets.filter(s => s.done);
                if (completedSets.length === 0) return null;
                return (
                  <div key={ex.id} style={{
                    background: "#111", border: "1px solid #1a1a1a", borderRadius: 10,
                    padding: "12px 14px", marginBottom: 8,
                  }}>
                    <div style={{ display: "flex", alignItems: "center", gap: 8, marginBottom: 8 }}>
                      <span style={{
                        fontSize: 9, fontWeight: 800, fontFamily: "'JetBrains Mono', monospace",
                        color: "#D4AF37", letterSpacing: 1,
                      }}>{ex.id}</span>
                      <span style={{
                        fontSize: 14, fontWeight: 700, fontFamily: "'Barlow Condensed', sans-serif",
                        color: "#e0e0e0",
                      }}>{ex.name}</span>
                    </div>
                    {exLog.sets.map((set, i) => {
                      if (!set.done) return null;
                      return (
                        <div key={i} style={{
                          display: "flex", alignItems: "center", gap: 8, marginBottom: 4,
                        }}>
                          <span style={{
                            fontSize: 10, fontWeight: 700, fontFamily: "'JetBrains Mono', monospace",
                            color: "#555", minWidth: 18,
                          }}>S{i + 1}</span>
                          <span style={{
                            fontSize: 13, fontWeight: 600, fontFamily: "'JetBrains Mono', monospace",
                            color: "#e0e0e0",
                          }}>
                            {set.weight ? `${set.weight} lbs` : "BW"} Ã— {set.reps || "â€”"} reps
                          </span>
                        </div>
                      );
                    })}
                  </div>
                );
              })}
            </div>
          );
        }) : (
          <div style={{ color: "#555", fontSize: 12, fontFamily: "'JetBrains Mono', monospace", textAlign: "center", marginTop: 40 }}>
            Session data not available (session structure may have changed).
          </div>
        )}

        {/* Show raw exercise logs if session structure doesn't match */}
        {!session && Object.keys(exerciseLogs).length > 0 && (
          <div style={{ marginTop: 20 }}>
            {Object.entries(exerciseLogs).map(([exId, exLog]) => {
              const completedSets = exLog.sets.filter(s => s.done);
              if (completedSets.length === 0) return null;
              return (
                <div key={exId} style={{
                  background: "#111", border: "1px solid #1a1a1a", borderRadius: 10,
                  padding: "12px 14px", marginBottom: 8,
                }}>
                  <div style={{
                    fontSize: 12, fontWeight: 700, fontFamily: "'JetBrains Mono', monospace",
                    color: "#D4AF37", marginBottom: 8,
                  }}>{exId}</div>
                  {exLog.sets.map((set, i) => {
                    if (!set.done) return null;
                    return (
                      <div key={i} style={{
                        display: "flex", alignItems: "center", gap: 8, marginBottom: 4,
                      }}>
                        <span style={{
                          fontSize: 10, fontWeight: 700, fontFamily: "'JetBrains Mono', monospace",
                          color: "#555", minWidth: 18,
                        }}>S{i + 1}</span>
                        <span style={{
                          fontSize: 13, fontWeight: 600, fontFamily: "'JetBrains Mono', monospace",
                          color: "#e0e0e0",
                        }}>
                          {set.weight ? `${set.weight} lbs` : "BW"} Ã— {set.reps || "â€”"} reps
                        </span>
                      </div>
                    );
                  })}
                </div>
              );
            })}
          </div>
        )}
      </div>
    </div>
  );
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MAIN APP
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function App() {
  const [store, setStore] = useState(loadData);
  const [activeSession, setActiveSession] = useState(null);
  const [showHistory, setShowHistory] = useState(false);
  const [viewingHistoryEntry, setViewingHistoryEntry] = useState(null);

  useEffect(() => { saveData(store); }, [store]);

  const logs = store.logs;
  const history = store.history || [];

  const updateExerciseLog = (sessionId, exerciseId, data) => {
    setStore(prev => ({
      ...prev,
      logs: { ...prev.logs, [sessionId]: { ...(prev.logs[sessionId] || {}), [exerciseId]: data } },
    }));
  };

  const startSession = (id) => { setActiveSession(id); };

  const finishWorkout = () => {
    const session = SESSIONS[activeSession];
    const sessionLogs = logs[activeSession] || {};
    let totalSets = 0, completedSets = 0;
    session.phases.forEach(phase => {
      phase.exercises.forEach(ex => {
        totalSets += ex.sets;
        const exLog = sessionLogs[ex.id];
        if (exLog) completedSets += exLog.sets.filter(s => s.done).length;
      });
    });

    const entry = {
      id: Date.now(),
      sessionId: activeSession,
      sessionTitle: session.title,
      sessionSubtitle: session.subtitle,
      group: session.group,
      date: new Date().toLocaleDateString("en-US", { weekday: "short", month: "short", day: "numeric" }),
      time: new Date().toLocaleTimeString("en-US", { hour: "numeric", minute: "2-digit" }),
      completedSets,
      totalSets,
      exerciseLogs: JSON.parse(JSON.stringify(sessionLogs)),
    };

    setStore(prev => ({
      ...prev,
      history: [entry, ...(prev.history || [])].slice(0, 50),
      logs: { ...prev.logs, [activeSession]: {} },
    }));
    setActiveSession(null);
  };

  // â”€â”€ HISTORY DETAIL VIEW â”€â”€
  if (viewingHistoryEntry) {
    return (
      <HistoryDetail
        entry={viewingHistoryEntry}
        onBack={() => setViewingHistoryEntry(null)}
      />
    );
  }

  // â”€â”€ HOME SCREEN â”€â”€
  if (!activeSession) {
    return (
      <div style={{ minHeight: "100%", padding: "env(safe-area-inset-top) 16px 80px" }}>
        <div style={{ textAlign: "center", padding: "24px 0 16px" }}>
          <div style={{
            fontSize: 36, fontWeight: 900, fontFamily: "'Barlow Condensed', sans-serif",
            letterSpacing: 6, color: "#D4AF37",
          }}>IRON LOG</div>
          <div style={{
            fontSize: 10, fontWeight: 600, letterSpacing: 4, color: "#444",
            fontFamily: "'JetBrains Mono', monospace", marginTop: 2,
          }}>PPL TRAINING TRACKER</div>
        </div>

        {GROUP_CONFIG.map(group => (
          <div key={group.label} style={{ marginBottom: 16 }}>
            <div style={{
              fontSize: 11, fontWeight: 800, letterSpacing: 4, color: "#555",
              fontFamily: "'JetBrains Mono', monospace", marginBottom: 8, paddingLeft: 2,
              display: "flex", alignItems: "center", gap: 8,
            }}>
              <span>{group.icon}</span> {group.label}
            </div>
            {group.ids.map(id => {
              const s = SESSIONS[id];
              const exCount = s.phases.reduce((a, p) => a + p.exercises.length, 0);
              return (
                <div key={id} onClick={() => startSession(id)} style={{
                  background: "linear-gradient(135deg, #111 0%, #161616 100%)",
                  border: "1px solid #222", borderRadius: 12, padding: 20, marginBottom: 10,
                  cursor: "pointer", position: "relative", overflow: "hidden",
                }}>
                  <div style={{
                    position: "absolute", top: 12, right: 16, fontSize: 44, fontWeight: 900,
                    fontFamily: "'Barlow Condensed', sans-serif", color: "#1a1a1a", lineHeight: 1,
                  }}>{id}</div>
                  <div style={{
                    fontSize: 10, fontWeight: 800, letterSpacing: 4, color: "#D4AF37",
                    fontFamily: "'JetBrains Mono', monospace", marginBottom: 6,
                  }}>{s.title}</div>
                  <div style={{
                    fontSize: 18, fontWeight: 800, fontFamily: "'Barlow Condensed', sans-serif",
                    color: "#e0e0e0", marginBottom: 4,
                  }}>{s.subtitle}</div>
                  <div style={{
                    fontSize: 11, color: "#666", fontFamily: "'JetBrains Mono', monospace", marginTop: 6,
                  }}>{exCount} exercises Â· {s.duration} Â· {s.phases.length} phases</div>
                  <div style={{ marginTop: 12, display: "flex", alignItems: "center", gap: 8 }}>
                    <div style={{
                      background: "linear-gradient(135deg, #D4AF37, #F4E076)",
                      color: "#0a0a0a", fontSize: 10, fontWeight: 800,
                      fontFamily: "'JetBrains Mono', monospace",
                      padding: "5px 12px", borderRadius: 4, letterSpacing: 1,
                    }}>START â†’</div>
                  </div>
                </div>
              );
            })}
          </div>
        ))}

        {/* History */}
        {history.length > 0 && (
          <div style={{ marginTop: 16 }}>
            <div onClick={() => setShowHistory(!showHistory)} style={{
              display: "flex", alignItems: "center", justifyContent: "space-between",
              cursor: "pointer", padding: "8px 0", marginBottom: 8,
            }}>
              <div style={{
                fontSize: 11, fontWeight: 800, letterSpacing: 4, color: "#555",
                fontFamily: "'JetBrains Mono', monospace",
              }}>HISTORY ({history.length})</div>
              <div style={{
                color: "#555", fontSize: 12,
                transform: showHistory ? "rotate(180deg)" : "rotate(0deg)", transition: "transform 0.2s",
              }}>â–¼</div>
            </div>
            {showHistory && history.map(h => (
              <div key={h.id} onClick={() => setViewingHistoryEntry(h)} style={{
                background: "#111", border: "1px solid #1a1a1a", borderRadius: 8,
                padding: "10px 14px", marginBottom: 6, display: "flex", justifyContent: "space-between",
                cursor: "pointer",
              }}>
                <div>
                  <div style={{
                    fontSize: 12, fontWeight: 700, fontFamily: "'Barlow Condensed', sans-serif", color: "#ccc",
                  }}>{h.sessionTitle} <span style={{ color: "#555", fontSize: 10, marginLeft: 4 }}>{h.group}</span></div>
                  <div style={{
                    fontSize: 10, color: "#555", fontFamily: "'JetBrains Mono', monospace", marginTop: 2,
                  }}>{h.date} Â· {h.time}</div>
                </div>
                <div style={{ display: "flex", alignItems: "center", gap: 6 }}>
                  <div style={{
                    fontSize: 12, fontWeight: 700, fontFamily: "'JetBrains Mono', monospace",
                    color: h.completedSets === h.totalSets ? "#4CAF50" : "#D4AF37",
                  }}>{h.completedSets}/{h.totalSets}</div>
                  <span style={{ color: "#333", fontSize: 10 }}>â€º</span>
                </div>
              </div>
            ))}
          </div>
        )}
      </div>
    );
  }

  // â”€â”€ ACTIVE SESSION â”€â”€
  const session = SESSIONS[activeSession];
  let totalSets = 0, completedSets = 0;
  session.phases.forEach(phase => {
    phase.exercises.forEach(ex => {
      totalSets += ex.sets;
      const exLog = logs[activeSession]?.[ex.id];
      if (exLog) completedSets += exLog.sets.filter(s => s.done).length;
    });
  });
  const progressPct = totalSets > 0 ? (completedSets / totalSets) * 100 : 0;

  return (
    <div style={{ minHeight: "100%", paddingBottom: 100 }}>
      {/* Header */}
      <div style={{
        position: "sticky", top: 0, zIndex: 100, background: "#0a0a0a",
        padding: "env(safe-area-inset-top) 16px 10px", borderBottom: "1px solid #1a1a1a",
      }}>
        <div style={{ display: "flex", alignItems: "center", justifyContent: "space-between", marginBottom: 6 }}>
          <button onClick={() => setActiveSession(null)} style={{
            background: "none", border: "none", color: "#D4AF37", fontSize: 13,
            fontFamily: "'Barlow Condensed', sans-serif", fontWeight: 700, cursor: "pointer",
            letterSpacing: 1, padding: "4px 0",
          }}>â† BACK</button>
          <div style={{
            fontSize: 10, fontWeight: 800, letterSpacing: 4, color: "#D4AF37",
            fontFamily: "'JetBrains Mono', monospace",
          }}>{session.title}</div>
        </div>
        <div style={{ display: "flex", alignItems: "center", gap: 8 }}>
          <div style={{ flex: 1, height: 3, background: "#1a1a1a", borderRadius: 2, overflow: "hidden" }}>
            <div style={{
              width: `${progressPct}%`, height: "100%", borderRadius: 2,
              background: progressPct >= 100
                ? "#4CAF50" : "linear-gradient(90deg, #D4AF37, #F4E076)",
              transition: "width 0.5s ease",
            }} />
          </div>
          <div style={{
            fontSize: 10, fontWeight: 700, color: progressPct >= 100 ? "#4CAF50" : "#D4AF37",
            fontFamily: "'JetBrains Mono', monospace", minWidth: 36, textAlign: "right",
          }}>{Math.round(progressPct)}%</div>
        </div>
        <div style={{
          fontSize: 11, color: "#666", fontFamily: "'Barlow Condensed', sans-serif",
          marginTop: 4, letterSpacing: 0.5,
        }}>{session.subtitle} Â· {session.group}</div>
      </div>

      {/* Phases */}
      <div style={{ padding: "12px 16px" }}>
        {session.phases.map((phase, pi) => (
          <div key={pi} style={{ marginBottom: 20 }}>
            <div style={{
              fontSize: 12, fontWeight: 800, letterSpacing: 2, color: "#D4AF37",
              fontFamily: "'JetBrains Mono', monospace", marginBottom: 4,
            }}>{phase.name}</div>
            <div style={{
              fontSize: 11, color: "#555", fontFamily: "'JetBrains Mono', monospace", marginBottom: 10,
            }}>{phase.time}{phase.superset ? ` Â· ${phase.superset}` : ""}</div>
            {phase.exercises.map(ex => (
              <ExerciseCard key={`${activeSession}-${ex.id}`} exercise={ex}
                logData={logs[activeSession]?.[ex.id]}
                onUpdateLog={data => updateExerciseLog(activeSession, ex.id, data)}
              />
            ))}
          </div>
        ))}
      </div>

      {/* Finish button */}
      <div style={{
        position: "fixed", bottom: 0, left: 0, right: 0,
        padding: "12px 16px", paddingBottom: "max(24px, env(safe-area-inset-bottom))",
        background: "linear-gradient(180deg, rgba(10,10,10,0) 0%, #0a0a0a 30%)", zIndex: 100,
      }}>
        <button onClick={finishWorkout} style={{
          width: "100%", padding: "14px 0", borderRadius: 8, border: "none",
          background: progressPct >= 100
            ? "linear-gradient(135deg, #4CAF50, #66BB6A)"
            : "linear-gradient(135deg, #D4AF37, #F4E076)",
          color: "#0a0a0a", fontSize: 14, fontWeight: 900,
          fontFamily: "'Barlow Condensed', sans-serif", letterSpacing: 2, cursor: "pointer",
          boxShadow: "0 -4px 20px rgba(212, 175, 55, 0.2)",
        }}>{progressPct >= 100 ? "WORKOUT COMPLETE âœ“" : "FINISH WORKOUT"}</button>
      </div>
    </div>
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(<App />);
</script>
<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js').catch(() => {});
}
</script>
</body>
</html>
